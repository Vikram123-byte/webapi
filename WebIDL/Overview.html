<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<!--
  Overview.html
  Language Bindings for DOM Specifications

  Note: This file is generated from Overview.xml.  Run “make” to regenerate it.
  -->

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <head>
    <title>Language Bindings for DOM Specifications</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/>
    <meta name="revision" content="$Id: Overview.html,v 1.3 2007-06-05 08:51:39 cmccorma Exp $"/>
    <link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/base" type="text/css"/>
    <link rel="stylesheet" href="Binding4DOM.css" type="text/css"/>

    

  </head>

  <body>
    <div><a href="http://www.w3.org/"><img src="http://www.w3.org/Icons/w3c_home" width="72" height="48" alt="W3C"/></a></div><h1>Language Bindings for DOM Specifications</h1><h2>
      W3C Editor’s Draft
      <em>5 June 2007</em></h2><dl><dt>This version:</dt><dd><a id="thisVersionLink" href="http://dev.w3.org/cvsweb/2006/webapi/Binding4DOM/Overview.html">http://dev.w3.org/cvsweb/2006/webapi/Binding4DOM/Overview.html</a><script>
              var id = "$Id: Overview.html,v 1.3 2007-06-05 08:51:39 cmccorma Exp $";
              var a = document.getElementById('thisVersionLink');
              var xs = id.match(/ ([0-9]\.[0-9.]+) /);
              if (xs) {
                var rev = xs[1];
                a.href = "http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Binding4DOM/Overview.html?rev=" + rev + String.fromCharCode(38) + "content-type=text/html; charset=utf-8";
                a.firstChild.data = a.href;
              }
            </script></dd><dt>Latest version:</dt><dt>Previous version:</dt><dt>Editor:</dt><dd><a href="http://mcc.id.au/">Cameron McCormack</a> (Invited Expert) &lt;cam@mcc.id.au&gt;</dd></dl><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©2007 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup>
      (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>,
      <a href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>,
      <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C
      <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
      <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and 
      <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
    </p><hr/>

    <div class="section">
      <h2> Abstract</h2>
      <p>
        This specification defines an Interface Definition Language (IDL) to be
        used by specifications that define a Document Object Model (DOM).  How
        interfaces described with this IDL correspond to constructs within an
        ECMAScript execution environment is also detailed.
      </p>

      <div class="ednote"><div class="ednoteHeader">Editorial note</div>
        <p>
          This is revision $Id: Overview.html,v 1.3 2007-06-05 08:51:39 cmccorma Exp $.
        </p>
      </div>
    </div>

    <div class="section">
      <h2> Status of this Document</h2>

      <p>
        <em>
          This section describes the status of this document at the time of
          its publication.  Other documents may supersede this document. A list
          of current <acronym title="World Wide Web Consortium">W3C</acronym>
          publications and the latest revision of this technical report can be
          found in the 
          <a href="http://www.w3.org/TR/"><acronym title="World Wide Web Consortium">W3C</acronym>
            technical reports index</a> at http://www.w3.org/TR/.
        </em>
      </p>
      <p>
        This document is the  <b>Editor’s Draft</b> of the
        “Language Bindings for DOM Specifications” specification.  Please send
        comments to <a href="mailto:public-webapi@w3.org">public-webapi@w3.org</a>
        (<a href="http://lists.w3.org/Archives/Public/public-webapi/">archived</a>)
        with <tt>[Bindings]</tt> at the start of the subject line.
      </p>
      <p>
        This document is produced by the
        <a href="http://www.w3.org/2006/webapi/">Web API Working Group</a>, part of the
        <a href="http://www.w3.org/2006/rwc/Activity">Rich Web Clients Activity</a>
        in the W3C <a href="http://www.w3.org/Interaction/">Interaction Domain</a>.
        Changes made to this document can be found in the
        <a href="http://dev.w3.org/cvsweb/2006/webapi/Binding4DOM/Overview.html">W3C
          public CVS server</a>.
      </p>
      <p>
        Publication as a Working Draft does not imply endorsement by the
        <acronym title="World Wide Web Consortium">W3C</acronym> Membership.
        This is a draft document and may be updated, replaced or obsoleted by
        other documents at any time. It is inappropriate to cite this document
        as other than work in progress.
      </p>
      <p>
        This document was produced by a group operating under the 5 February
        2004 W3C Patent Policy. W3C maintains a public list of any patent
        disclosures made in connection with the deliverables of the group; that
        page also includes instructions for disclosing a patent. An individual
        who has actual knowledge of a patent which the individual believes
        contains Essential Claim(s) must disclose the information in accordance
        with section 6 of the W3C Patent Policy.
      </p>
    </div>

    <div class="section">
      <h2> Table of contents</h2>
      <div class="toc"><ul><li><a href="#introduction">1. Introduction</a></li><li><a href="#idl">2. Interface definition language</a></li><li><a href="#ecmascript-binding">3. ECMAScript binding</a><ul><li><a href="#type">3.1. Types</a></li><li><a href="#interfaces">3.2. Interfaces</a><ul><li><a href="#interface-object">3.2.1. Interface object</a></li><li><a href="#interface-prototype-object">3.2.2. Interface prototype object</a></li><li><a href="#operations">3.2.3. Operations</a></li><li><a href="#custom-get-set">3.2.4. Custom [[Get]] and [[Set]] methods</a></li></ul></li><li><a href="#host-objects">3.3. Host objects implementing interfaces</a><ul><li><a href="#attributes">3.3.1. Attributes</a></li></ul></li><li><a href="#native-objects">3.4. Native objects implementing interfaces</a></li></ul></li><li><a href="#conformance">4. Conformance</a></li><li><a href="#acknowledgements">5. Acknowledgements</a></li></ul><ul><li><a href="#references">A. References</a></li></ul></div>
    </div>

    <div id="sections">
      <div id="introduction" class="section">
        <h2>1. Introduction</h2>

        <div class="ednote"><div class="ednoteHeader">Editorial note</div>
          <p>TBD</p>
        </div>
      </div>

      <div id="idl" class="section">
        <h2>2. Interface definition language</h2>

        <div class="ednote"><div class="ednoteHeader">Editorial note</div>
          <p>
            This section will describe an IDL which is syntactically a subset of
            and semantically mostly similar to OMG IDL.
          </p>
        </div>
      </div>

      <div id="ecmascript-binding" class="section">
        <h2>3. ECMAScript binding</h2>

        <p>
          This section describes how interfaces described with the IDL in section
          2. correspond to particular ECMAScript constructs.
        </p>
        <p>
          Unless otherwise specified, every object described in this section
          has internal properties <span class="prop">[[Get]]</span>,
          <span class="prop">[[Put]]</span>,
          <span class="prop">[[CanPut]]</span>,
          <span class="prop">[[HasProperty]]</span>,
          <span class="prop">[[Delete]]</span> and
          <span class="prop">[[DefaultValue]]</span> with the same behavior as
          specified for native objects, as described in section 8.6.2 of
          <a href="#ref-ECMA-262">[ECMA-262]</a>.
        </p>
        <p>
          If a value for the internal property
          <span class="prop">[[Class]]</span> is not given for a particular
          object, its value is implementation specific.
        </p>

        <div id="type" class="section">
          <h3>3.1. Types</h3>

          <div class="ednote"><div class="ednoteHeader">Editorial note</div>
            <p>
              Mapping of primitive IDL types to ES types.  Also IDL DOMString → ES string (or null, sometimes).
              Here also talk about type conversion with calling functions and assigning/retrieving attributes.
            </p>
          </div>
        </div>

        <div id="interfaces" class="section">
          <h3>3.2. Interfaces</h3>

          <p>
            Every interface corresponds to a property on the global object,
            whose name is the same as its identifier in the IDL.  This identifier
            is not the qualified name of the interface, but the
            <span class="bnf">&lt;identifier&gt;</span> part of the
            <span class="bnf">&lt;scoped-name&gt;::&lt;identifier&gt;</span> that
            forms the complete qualified name.  The value of this property is
            an object called the <dfn>interface object</dfn>, which provides
            access to the constants and functions defined on the interface.
            The property has the attributes
            <span class="propattrset">{ DontDelete, DontEnum }</span>.
          </p>
          
          <div id="interface-object" class="section">
            <h4>3.2.1. Interface object</h4>

            <p>
              The interface object has the following properties:
            </p>

            <table class="proptable">
              <tr>
                <th>Property name</th>
                <th>Attributes</th>
                <th>Type</th>
                <th>Value</th>
              </tr>
              <tr>
                <td><span class="prop">[[Prototype]]</span></td>
                <td>{ Internal }</td>
                <td>object</td>
                <td>The Object prototype object.</td>
              </tr>
              <tr>
                <td><span class="prop">prototype</span></td>
                <td>{ DontDelete, ReadOnly }</td>
                <td>object</td>
                <td>The interface prototype object for this interface.</td>
              </tr>
            </table>

            <p>
              In addition, there is a property on the interface object for each
              constant defined on the interface with the same name as that constant.
              These properties have the attributes
              <span class="propattrset">{ DontDelete }</span>.
            </p>

            <p>
              If the interface is declared with the
              <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute,
              then the interface object also has a
              <span class="prop">[[Construct]]</span> internal property, which allows
              construction of objects that implement the given interface.  The behavior
              of this <span class="prop">[[Construct]]</span> method is not
              necessarily the same as that described for Function objects in
              section 13.2.2 of <a href="#ref-ECMA-262">[ECMA-262]</a>.
            </p>
          </div>

          <div id="interface-prototype-object" class="section">
            <h4>3.2.2. Interface prototype object</h4>

            <p>
              The interface prototype object has the following properties:
            </p>

            <table class="proptable">
              <tr>
                <th>Property name</th>
                <th>Attributes</th>
                <th>Type</th>
                <th>Value</th>
              </tr>
              <tr>
                <td><span class="prop">[[Prototype]]</span></td>
                <td>{ Internal }</td>
                <td>object</td>
                <td>
                  If the interface inherits from another interface, then the
                  value is the interface prototype object for the superinterface.
                  Otherwise, the value is the Object prototype object.
                </td>
              </tr>
              <tr>
                <td><span class="prop">constructor</span></td>
                <td>{ DontEnum }</td>
                <td>object</td>
                <td>The interface object for this interface.</td>
              </tr>
            </table>

            <p>
              In addition, there is a property on the interface prototype object
              for each operation defined on the interface that does not have the
              <a class="xattr" href="#Overloads">[Overloads]</a>
              extended attribute.  These properties have the attributes { DontEnum }.
            </p>
          </div>

          <div id="operations" class="section">
            <h4>3.2.3. Operations</h4>

            <div class="ednote"><div class="ednoteHeader">Editorial note</div>
              <p>
                Talk about properties of the methods on the interface prototype
                object, and how overloaded methods map to the same single function
                which will perform the resolution.  Also what happens with passing
                fewer/more arguments than expected.
              </p>
            </div>
          </div>

          <div id="custom-get-set" class="section">
            <h4>3.2.4. Custom [[Get]] and [[Set]] methods</h4>

            <div class="ednote"><div class="ednoteHeader">Editorial note</div>
              <p>
                What extended attributes on the interface in the IDL indicate
                that non-standard [[Get]] and [[Set]] methods are used.  Some
                common cases (e.g. non-negative integer indexes
                correspond to calling a method, like <code>NodeList.item()</code>)
                should be able to be declared in the IDL.
              </p>
            </div>
          </div>
        </div>

        <div id="host-objects" class="section">
          <h3>3.3. Host objects implementing interfaces</h3>

          <div class="ednote"><div class="ednoteHeader">Editorial note</div>
            <p>
              Host objects that implement a particular interface have their [[Prototype]]
              set to the interface prototype object.  A special [[Get]] and [[Put]] will need to be
              defined to handle throwing exceptions for readonly attributes, that sort
              of thing.
            </p>
          </div>

          <div id="attributes" class="section">
            <h4>3.3.1. Attributes</h4>

            <div class="ednote"><div class="ednoteHeader">Editorial note</div>
              <p>
                How attributes on an interface correspond to properties on the host object.
              </p>
            </div>
          </div>
        </div>

        <div id="native-objects" class="section">
          <h3>3.4. Native objects implementing interfaces</h3>

          <div class="ednote"><div class="ednoteHeader">Editorial note</div>
            <p>
              How ES script can implement interfaces, including how interfaces with
              a single operation can be implemented as a function object (e.g. EventListener).
            </p>
          </div>
        </div>
      </div>

      <div id="conformance" class="section">
        <h2>4. Conformance</h2>

        <div class="ednote"><div class="ednoteHeader">Editorial note</div>
          <p>Two products: conforming IDL, conforming ES implementation of some IDL.</p>
        </div>
      </div>

      <div id="acknowledgements" class="section">
        <h2>5. Acknowledgements</h2>

        <p>
          The editor would like to thank the following people for contributing
          to this specification:
          David Andersson,
          Robin Berjon,
          Gorm Haug Eriksen,
          Ian Hickson,
          Björn Höhrmann,
          Anne van Kesteren,
          Jonas Sicking,
          Maciej Stachowiak.
        </p>
      </div>
    </div>

    <div id="appendices">
      <div id="references" class="section">
        <h2>A. References</h2>

        <dl>
          <dt id="ref-ECMA-262">[ECMA-262]</dt>
          <dd>
            <cite><a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">ECMAScript Language Specification, 3rd Edition</a></cite>,
            M. Cowlishaw, Editor.  Ecma International, December 1999.  Available at http://www.ecma-international.org/publications/standards/Ecma-262.htm.
          </dd>
          <dt id="ref-OMGIDL">[OMGIDL]</dt>
          <dd>
            <cite><a href="http://www.omg.org/cgi-bin/apps/doc?formal/02-06-39.pdf">CORBA 3.0 – OMG IDL Syntax and Semantics chapter</a></cite>.
            Object Management Group, June 2002.  Available at http://www.omg.org/cgi-bin/apps/doc?formal/02-06-39.pdf.
          </dd>
        </dl>
      </div>
    </div>
  </body>
</html>
