<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
          ******* WARNING ********
          This document was automatically generated using the Re-Spec specification
          publishing system. Edits made here are likely to be lost when it is
          regenerated.
          ******* WARNING ********
        --><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Window Object 1.0</title><link rel="stylesheet" href="respec-w3c.css" type="text/css"></link><link rel="stylesheet" href="http://www.w3.org/StyleSheets/TR/base" type="text/css"></link><meta name="revision" content="$Id: Window.html,v 1.11 2006-05-01 10:38:12 mstachow Exp $"></meta></head><body><div class="head"><p><a href="http://www.w3.org/"><img class="head" src="http://www.w3.org/Icons/w3c_home" width="72" height="48" alt="W3C"></img></a></p><h1 class="head">Window Object 1.0</h1><h2 id="pagesubtitle">W3C Editor's Draft <em>30 March 2006</em></h2><dl><dt>This version:</dt><dd><a href="http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Window/publish/Window.html">http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Window/publish/Window.html</a></dd><dt>Latest version:</dt><dd><a href="http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Window/publish/Window.html">http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Window/publish/Window.html</a></dd><dt>Editors:</dt><dd><span class="person">Ian Davis (<a href="http://www.talis.com/">Talis Information Ltd.</a>) &lt;<a href="mailto:ian.davis@talis.com">ian.davis@talis.com</a>&gt;</span></dd><dd><span class="person">Maciej Stachowiak (<a href="http://apple.com/">Apple Computer, Inc.</a>) &lt;<a href="mailto:mjs@apple.com">mjs@apple.com</a>&gt;</span></dd></dl><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©2006
        <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup>
        (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>,
        <a href="http://www.ercim.org/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and 
        <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document  use</a> rules apply.
      </p></div><hr></hr>
  

  <h2 id="specabstract">Abstract</h2><div class="section">
    

    <p>
      This specification defines the <a class="term" href="#dfn-window-object"><code>Window</code>
      object</a>, which provides the global namespace for web
      scripting languages, access to other documents in a compound
      document by reference, navigation to other locations, and
      timers. The <a class="term" href="#dfn-window-object"><code>Window</code> object</a> is a
      longstanding de facto standard for HTML user agents. However, it
      should not be assumed based on this or the name "Window" that it
      is limited to HTML or to visual user agents.
    </p>
  </div>

  <div class="section"><h2 id="sotd">Status of this Document</h2>
    

    <p>
      <em>This section describes the status of this document at the time of its publication.
      Other documents may supersede this document. A list of current <acronym title="World Wide Web Consortium">W3C</acronym> publications and the
      latest revision of this technical report can be found in the
      <a href="http://www.w3.org/TR/"><acronym title="World Wide Web Consortium">W3C</acronym> technical reports index</a> at http://www.w3.org/TR/.</em>
    </p>
    <p>
      This document is produced by the <a href="http://www.w3.org/2006/webapi">Web API
      <acronym title="Working Group">WG</acronym></a> (part of the
      <a href="http://www.w3.org/2006/rwc/Activity">Rich Web Clients Activity</a>).
      This document has no formal standing within the <acronym title="World Wide Web Consortium">W3C</acronym>.
      Please send comments to <a href="mailto:public-webapi@w3.org">public-webapi@w3.org</a>,
      the public email list for issues related to Web APIs.
    </p>
    <p>
      The patent policy for this document is the
      <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <acronym title="World Wide Web Consortium">W3C</acronym> Patent Policy</a>.
      Patent disclosures relevant to this specification may be found on the
      <a href="http://www.w3.org/2004/01/pp-impl/38482/status" rel="disclosure">Web API Working Group's patent
      disclosure page</a>. An individual who has actual knowledge of a patent which the individual believes
      contains Essential Claim(s) with respect to this specification should disclose the information in
      accordance with <a href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6
      of the <acronym title="World Wide Web Consortium">W3C</acronym> Patent Policy</a>.
    </p>
    <p>
      Publication as an Editor's Draft does not imply endorsement by the <acronym title="World Wide Web Consortium">W3C</acronym> Membership.
      This is a draft document and may be updated, replaced or obsoleted by other
      documents at any time. It is inappropriate to cite this document as other than
      work in progress.
    </p>
  </div>

  <div class="section"><h2 id="contents">Table of contents</h2>
    
    <ul class="toc"><li><a href="#introduction">1. Introduction</a></li><li><ul class="toc"><li><a href="#usage">1.1. Examples of usage</a></li><li><a href="#notcovered">1.2. Not in This Specification</a></li><li><a href="#definitions">1.3. Definitions</a></li><li><a href="#conformance">1.4. Conformance</a></li></ul></li><li><a href="#browsing">2. Browsing Contexts</a></li><li><ul class="toc"><li><a href="#window">2.1. The <code>Window</code> Interface, Basic Attributes</a></li><li><ul class="toc"><li><a href="#window-basic-attributes">2.1.1. Attributes</a></li><li><a href="#window-basic-scripting">2.1.2. Use in scripting</a></li></ul></li><li><a href="#document-window">2.2. The <code>DocumentWindow</code> Interface, Basic Attributes</a></li></ul></li><li><a href="#navigation-and-session-history">3. Navigation and Session History</a></li><li><ul class="toc"><li><a href="#object-relationships">3.1. Object Relationships</a></li><li><a href="#navigation-algorithms">3.2. Navigation Algorithms</a></li><li><ul class="toc"><li><a href="#uri-parsing">3.2.1. URI Parsing</a></li><li><a href="#location-state">3.2.2. Browsing Context State</a></li><li><a href="#performing-navigation">3.2.3. Performing Navigations</a></li></ul></li><li><a href="#window-location">3.3. The <code>Window</code> Interface, Location Attributes</a></li><li><ul class="toc"><li><a href="#window-location-attributes">3.3.1. Attributes</a></li></ul></li><li><a href="#document-location">3.4. The <code>DocumentWindow</code> Interface, Location Attributes</a></li><li><ul class="toc"><li><a href="#document-location-attributes">3.4.1. Attributes</a></li></ul></li><li><a href="#location">3.5. The <code>Location</code> Interface</a></li><li><ul class="toc"><li><a href="#location-attributes">3.5.1. Attributes</a></li><li><a href="#location-methods">3.5.2. Methods</a></li></ul></li><li><a href="#history">3.6. The <code>History</code> Interface</a></li><li><ul class="toc"><li><a href="#history-attributes">3.6.1. Attributes</a></li><li><a href="#history-methods">3.6.2. Methods</a></li></ul></li></ul></li><li><a href="#embedding">4. Embedding: Compound Documents by Reference</a></li><li><ul class="toc"><li><a href="#window-embedding">4.1. The <code>Window</code> Interface, Embedding Attributes</a></li><li><a href="#embeddingelt">4.2. The <code>EmbeddingElement</code> Interface</a></li></ul></li><li><a href="#timers">5. Timers</a></li><li><ul class="toc"><li><a href="#window-timers">5.1. The <code>Window</code> Interface, Timer Attributes</a></li><li><a href="#timerlistener">5.2. The <em>TimerListener</em> Interface</a></li></ul></li><li><a href="#security">6. Security Considerations</a></li></ul><ul class="toc"><li><a href="#idl">A. IDL Definitions</a></li><li><a href="#ecmascript-binding">B. ECMAScript Language Binding</a></li><li><a href="#java-binding">C. Java Language Binding</a></li><li><a href="#acknow">D. Acknowledgements</a></li><li><a href="#bibref">E. References</a></li></ul>
  </div>

  <div class="section"><h2 id="introduction">1. Introduction</h2><p><strong>This section is not normative.</strong></p>
    

    <p>
      The <strong>Window Object 1.0</strong> specification defines a
      subset of the features of the <a class="term" href="#dfn-window-object"><code>Window</code>
      object</a>, a widely implemented part of HTML User Agents,
      with parts also found in non-HTML UAs that offer scripting and
      DOM access. This specification is intended to be suitable for
      all implementations that present any sort of DOM document
      [<cite><a href="#DOM3Core" class="bibref">DOM3Core</a></cite>] to the user.
    </p>

    <p>
      This specification defines four features of the window
      object. It describes the use of the Window object as a
      <a class="term" href="#dfn-browsing-context">browsing context</a>: a container that displays a
      document, or a series of documents in sequence. It describes
      interfaces for <a class="term" href="#dfn-navigation">navigation</a>, the ability to go to
      a new document in the same <a class="term" href="#dfn-browsing-context">browsing context</a>. It
      describes interfaces for <strong>embedding</strong>, a feature
      also known as <strong>compound document by reference</strong>,
      where one document includes another separate document by
      external reference. And it specifies methods for using
      <strong>timers</strong>.
    </p>

    <p>
      In addition, for some languages, such as ECMAScript
      [<cite><a href="#ECMAScript" class="bibref">ECMAScript</a></cite>], the <a class="term" href="#dfn-window-interface"><code>Window</code> interface</a> is
      implemented by the object that provides the global namespace for
      script execution. The details of how this works for ECMAScript
      are specified in <a href="#ecmascript-binding">ECMAScript
      Language Binding Appendix</a>.
    </p>

    <div class="section"><h3 id="usage">1.1. Examples of usage</h3><p><strong>This section is not normative.</strong></p>
      

      <div class="ednote">ACTION-129: Write Window Object 1.0 "examples of usage" section.</div>
    </div>

    <div class="section"><h3 id="notcovered">1.2. Not in This Specification</h3><p><strong>This section is not normative.</strong></p>
      

      <p>
      This specification does not include the following features,
      which are also found on the Window object in some
      implementations. It is possible they will defined by other
      specifications or found in a future version of this specification.
      </p>

      <ul>
      <li>Access to frames by name <div class="ednote">ISSUE-60: Should Window Object 1.0 include access to frames by name (window.frames)?</div></li>
      <li>Opening new windows</li>
      <li>Manipulating UI of existing windows</li>
      <li>Window size and position information</li>
      <li>Client information ("window.navigator")</li>
      <li>Window events</li>
      <li>Printing</li>
      <li>Focus</li>
      <li>Selection</li>
      <li>Editing</li>
      <li>Networking APIs</li>
      <li>Handling of binary data</li>
      </ul>
    </div>

    <div class="section"><h3 id="definitions">1.3. Definitions</h3><p><strong>This section is not normative.</strong></p>
      

      <p>
        This specification distinctively marks terms being defined,
        and references to definitions. Uses of terms are hyperlinks to
        the point of definition. An example of a definition:
      </p>

      <div class="boxed"><div class="specexample">
        A <dfn id="dfn-flux-capacitor">flux capacitor</dfn> is the part of user agents that has
	the most negative imaginary flux impedance.
      </div></div>

      <p>An example of use:</p>

      <div class="boxed"><div class="specexample">
        When the engines are damaged, user agents typically calibrate
        the <a class="term" href="#dfn-flux-capacitor">flux capacitor</a>.
      </div></div>


    </div>

    <div class="section"><h3 id="conformance">1.4. Conformance</h3>
      

      <p>
        The key words "<em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em>", "<em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em>", "<em class="rfc2119" title="Keyword in RFC 2119 context">REQUIRED</em>", "<em class="rfc2119" title="Keyword in RFC 2119 context">SHALL</em>", "<em class="rfc2119" title="Keyword in RFC 2119 context">SHALL NOT</em>", "<em class="rfc2119" title="Keyword in RFC 2119 context">SHOULD</em>", "<em class="rfc2119" title="Keyword in RFC 2119 context">SHOULD NOT</em>",
        "<em class="rfc2119" title="Keyword in RFC 2119 context">RECOMMENDED</em>", "<em class="rfc2119" title="Keyword in RFC 2119 context">MAY</em>", and "<em class="rfc2119" title="Keyword in RFC 2119 context">OPTIONAL</em>" in this document are to be interpreted as described in
        RFC 2119 [<cite><a href="#RFC2119" class="bibref">RFC2119</a></cite>].
      </p>
      <p>

	Sometimes, for readability, conformance requirements are
	phrased as requirements on elements, attributes, methods,
	interfaces, properties or functions. In all cases these are
	conformance requirements on implementations.
      </p>
      <p>
        This specification defines three classes of conformance:

      </p>
      <dl>
        <dt><dfn id="dfn-conforming-implementation">conforming implementation</dfn></dt>
        <dd>
	  A <a class="term" href="#dfn-conforming-implementation">conforming implementation</a> of the <strong>Window
	  Object 1.0</strong> specification is one that implements all the
	  interfaces in this specification, and satisfies all other
	  <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em>-, <em class="rfc2119" title="Keyword in RFC 2119 context">REQUIRED</em>- and <em class="rfc2119" title="Keyword in RFC 2119 context">SHALL</em>-level criteria in all parts of this
	  document other than language binding appendices.  
        </dd>

        <dt><dfn id="dfn-conforming-ecmascript-implementation">conforming ECMAScript implementation</dfn></dt>

        <dd>
	  A <a class="term" href="#dfn-conforming-ecmascript-implementation">conforming ECMAScript implementation</a> of the
          <strong>Window Object 1.0</strong> specification is a
          <a class="term" href="#dfn-conforming-implementation">conforming implementation</a> that maps all of the
          interfaces in this specification to ECMAScript [<cite><a href="#ECMAScript" class="bibref">ECMAScript</a></cite>],
          and satisfies the additional requirements in the <a href="#ecmascript-binding">ECMAScript Language Binding Appendix</a>.
	</dd>

        <dt><dfn id="dfn-conforming-java-implementation">conforming Java implementation</dfn></dt>
        <dd>
	  A <a class="term" href="#dfn-conforming-java-implementation">conforming Java implementation</a> of the
          <strong>Window Object 1.0</strong> specification is a
          <a class="term" href="#dfn-conforming-implementation">conforming implementation</a> that maps all of the
          interfaces in this specification to Java [<cite><a href="#Java" class="bibref">Java</a></cite>], and
          satisfies the additional requirements in the <a href="#java-binding">Java Language Binding Appendix</a>.
        </dd>

      </dl>

    </div>

  </div>

  <div class="section"><h2 id="browsing">2. Browsing Contexts</h2>
    

    <div class="ednote">ACTION-130: Need to add definition of "document"</div>

    <p>
      A <dfn id="dfn-browsing-context">browsing context</dfn> is a collection of one or more
      views that present a document or a sequence of documents to the
      user, using one or more views. Only one document of this
      sequence is presented at a time. A <a class="term" href="#dfn-browsing-context">browsing context</a>
      is said to <a class="term" href="#dfn-navigate">navigate</a> when it changes from presenting
      one document to another, for example by following a
      hyperlink. More is specified about navigation behavior in the <a href="#navigation">Navigation</a> section.
    </p>

    <p>
      A visual user agent typically presents a document by rendering
      it to a display. However, even non-visual agents could have a
      <a class="term" href="#dfn-browsing-context">browsing context</a>. For example, a voice browser also presents
      documents to the user. This also establishes a <a class="term" href="#dfn-browsing-context">browsing
      context</a>.
    </p>

    <p>
      An object that implements the <code>Document</code> interface
      [<cite><a href="#DOM3Core" class="bibref">DOM3Core</a></cite>] and is presented in a <a class="term" href="#dfn-browsing-context">browsing context</a>
      <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> also implement the <code>DocumentWindow</code> interface.
    </p>

    <p>
      Each view of a <code>Document</code> presented in a
      <a class="term" href="#dfn-browsing-context">browsing context</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be represented by an object
      that implements the <a class="term" href="#dfn-window-interface"><code>Window</code> interface</a>. One of these
      is the <dfn id="dfn-default-view">default view</dfn>. The <a class="term" href="#dfn-default-view">default view</a> is
      typically the primary mode of presentation to the user, and in
      interactive user agents, the primary means of interaction for
      the user. <div class="ednote">ISSUE-61: Should the Window spec drop any conformance 
      requirements for AbstractViews besides the defaultView?</div>
    </p>

    <p>
      An object that implements the <a class="term" href="#dfn-window-interface"><code>Window</code>
      interface</a> is referred to as a <dfn id="dfn-window-object"><code>Window</code>
      object</dfn>. Note: despite the name, a
      <a class="term" href="#dfn-window-object"><code>Window</code> object</a> does not necessarily
      represent an onscreen overlapping window, even in visual user
      agents.
    </p>

    <p>
      A document presented in a <a class="term" href="#dfn-browsing-context">browsing context</a> may have
      elements that embed additional documents, forming a Compound
      Document by Reference. Each such element creates a nested
      <a class="term" href="#dfn-browsing-context">browsing context</a>. This mechanism is described in <a href="#embedding">Embedding: Compound Documents by
      Reference</a>.
    </p>

    <p>
      When an event implementing the <code>UIEvent</code> interface [<cite><a href="#DOM3EV" class="bibref">DOM3EV</a></cite>]
      is dispatched on any node in a <code>Document</code> presented in a
      <a class="term" href="#dfn-browsing-context">browsing context</a>, the value of the <code>view</code> attribute of the
      event <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the <code>Window</code> object where the user originated the
      event. 

<div class="ednote">ISSUE-63: Should Window 1.0 drop the arguably redundant requirment on UIEvent.view?</div>

<div class="ednote">ISSUE-64: Should the Window spec define Window's place in DOM event flow?</div>
    </p>

    <div class="section"><h3 id="window">2.1. The <code>Window</code> Interface, Basic Attributes</h3>
      

      <p>The <dfn id="dfn-window-interface"><code>Window</code> interface</dfn> is fully
      specified in IDL in the <a href="#idl">IDL Definitions
      Appendix</a>. To better organize this specification, it is
      described in prose in mulitple IDL fragments.</p>

      <p>The <a class="term" href="#dfn-window-interface"><code>Window</code> interface</a> inherits from
      the <code>AbstractView</code> interface [<cite><a href="#DOM2Views" class="bibref">DOM2Views</a></cite>].</p>

      <p>In implementations that support Document Object Model CSS
      from DOM Level 2 Views [<cite><a href="#DOM2Views" class="bibref">DOM2Views</a></cite>], every
      <a class="term" href="#dfn-window-object"><code>Window</code> object</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> also implement the
      <code>ViewCSS</code> interface.</p>

      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface Window : views::AbstractView {
    // ...

    // self-references
    readonly attribute Window window;
    readonly attribute Window self;

    // ...
};</pre></div>

      <p>
        The value of the <code>document</code> property inherited by
        <code>Window</code> objects from the <code>AbstractView</code> interface
        <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the <code>Document</code> for which the <code>Window</code> is a
        view. As a result, in addition to the <code>DocumentView</code> interface,
        it implements the <code>Document</code> and <code>DocumentWindow</code> 
	interfaces.
      </p>

      <div class="section"><h4 id="window-basic-attributes">2.1.1. Attributes</h4>
        

        <p><a class="term" href="#dfn-window-object"><code>Window</code> object</a>s <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> have the following
        attributes:</p>

        <dl>
          <dt><dfn id="dfn-window-attribute"><code>window</code> attribute</dfn></dt>
          <dd>
	    The value of the <a class="term" href="#dfn-window-attribute"><code>window</code> attribute</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
            same <code>Window</code> object that has the attribute: the attribute
            is a self-reference.
          </dd>

          <dt><dfn id="dfn-self-attribute"><code>self</code> attribute</dfn></dt>
          <dd>
	    The value of the <a class="term" href="#dfn-self-attribute"><code>self</code> attribute</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
            same <code>Window</code> object that has the attribute: the attribute
            is a self-reference. Consequently, the value of the <a class="term" href="#dfn-self-attribute"><code>self</code> 
            attribute</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the same object as the <a class="term" href="#dfn-window-attribute"><code>window</code> 
	    attribute</a>.

            <div class="ednote">ACTION-131: Need to define "being the same object" in such a way
	      that it is an equivalence relation. Then the second
	      conformance clause for "self" can just be a note.
            </div>
          </dd>
        </dl>

      </div>

      <div class="section"><h4 id="window-basic-scripting">2.1.2. Use in scripting</h4>
        

        <p>
          The <a class="term" href="#dfn-window-object"><code>Window</code> object</a> also has a special role as the
          global scope for scripts in the document in languages such as
          ECMAScript [<cite><a href="#ECMAScript" class="bibref">ECMAScript</a></cite>]. Such use is specified by individual
          language bindings. For ECMAScript it is specified in the <a href="#ecmascript">ECMAScript Language Binding
          Appendix</a>.
        </p>

      </div>

    </div>

    <div class="section"><h3 id="document-window">2.2. The <code>DocumentWindow</code> Interface, Basic Attributes</h3>
      

      <p>To better organize this specification, the
      <code>DocumentWindow</code> interface is presented in mulitple
      IDL fragments. The full normative IDL interface is presented in
      the <a href="#idl">IDL Definitions Appendix</a>. This fragment
      defines only the most basic methods and attributes of the
      <code>Window</code> interface.</p>

<div class="ednote">ISSUE-65: Should we also specify the parentWindow property? It is
effectively a synonym for defaultView but implemented by a different
set of UAs.</div>

      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface DocumentWindow : views::DocumentView {
    // ...
};</pre></div>

      <p>
        The value of the <code>defaultView</code> attribute inherited
        by objects that implement the <code>DocumentWindow</code>
        interface inherit from the <code>AbstractView</code> interface
        <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the default view for the <a class="term" href="#dfn-browsing-context">browsing context</a> presenting
        the document, if any. In addition to the
        <code>AbstractView</code> interface, the default view <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em>
        implement the <code>Window</code> interface. If a document is
	not being presented in a <a class="term" href="#dfn-browsing-context">browsing context</a> but nontheless
	implements the DocumentWindow interface, the value of the
        <code>defaultView</code> attribute <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be
        <code>null</code>. <div class="ednote">ISSUE-66: should Documents that
        aren't being presented be required to have a null
        defaultView?</div>
      </p>
    </div>

  </div>

  <div class="section"><h2 id="navigation-and-session-history">3. Navigation and Session History</h2>
    

    <p>A <a class="term" href="#dfn-browsing-context">browsing context</a> has a <dfn id="dfn-session-history">session
    history</dfn>: a sequence of absolute URI references [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>]. It
    also has a <dfn id="dfn-current-history-position">current history position</dfn>, an integer index
    into the <a class="term" href="#dfn-session-history">session history</a> that identifies the absolute
    URI reference for the document currently being presented. The
    absolute URI reference at the <a class="term" href="#dfn-current-history-position">current history
    position</a> is called the <dfn id="dfn-current-location">current location</dfn>. The
    <a class="term" href="#dfn-session-history">session history</a> models the back/forward system of
    navigation familiar to browser users.</p>

    <p>When a <a class="term" href="#dfn-browsing-context">browsing context</a> changes from one
    <a class="term" href="#dfn-current-loation">current loation</a> to another, it is said to perform a
    <dfn id="dfn-navigation">navigation</dfn> to a <dfn id="dfn-target-location">target location</dfn>, as specified
    by an absolute URI reference.</p>

    <p>A <a class="term" href="#dfn-navigation">navigation</a> can be triggered in many different
    situations. For example, a user action, such as typing a URI in a
    location field or selecting a bookmark <em class="rfc2119" title="Keyword in RFC 2119 context">MAY</em> have this
    effect. Markup languages and APIs also specify particular
    situations that trigger a <a class="term" href="#dfn-navigation">navigation</a>, such as
    activating a hyperlink or submitting a form. This specification
    defines some API operations that result in a
    <a class="term" href="#dfn-navigation">navigation</a>, using the algorithms described below.</p>

    <p>When a <a class="term" href="#dfn-browsing-context">browsing context</a> performs a
    <a class="term" href="#dfn-navigation">navigation</a> that is not specifically intended to be a
    history navigation, reload, or replacement, it <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> remove any
    entries in the <a class="term" href="#dfn-session-history">session history</a> after the
    <a class="term" href="#dfn-current-history-position">current history position</a>, append the <a class="term" href="#dfn-target-location">target
    location</a>, and update the <a class="term" href="#dfn-current-history-position">current history
    position</a> to point to it. These values <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be updated at
    the moment the <a class="term" href="#dfn-browsing-context">browsing context</a> starts presenting the
    new <a class="term" href="#dfn-document">document</a>. In particular, they <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> be updated
    while still presenting the last <a class="term" href="#dfn-document">document</a> (if
    different from the new one), and <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be updated when presenting
    even a partialy loaded portion of the new
    <a class="term" href="#dfn-document">document</a>.</p>

    <p>When a <a class="term" href="#dfn-navigation">navigation</a> is performed to a <a class="term" href="#dfn-target-location">target
    location</a> that differs only in fragment identifier [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>] from
    the <a class="term" href="#dfn-current-location">current location</a>, the <a class="term" href="#dfn-browsing-context">browsing
    context</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> continue to present the same
    <a class="term" href="#dfn-document">document</a>, but <em class="rfc2119" title="Keyword in RFC 2119 context">MAY</em> adjust its presentation of the
    document based on the fragment identifier. Individual markup
    languages <em class="rfc2119" title="Keyword in RFC 2119 context">SHOULD</em> define the proper way to interpret fragment
    identifiers when displaying a document using that language.</p>
    <div class="ednote">The <em class="rfc2119" title="Keyword in RFC 2119 context">SHOULD</em> above doesn't relate to a conformance class,
    should we describe how a language spec can be
    Window-compatible?</div>

    <p><a class="term" href="#dfn-conforming-implementation">Conforming implementation</a>s <em class="rfc2119" title="Keyword in RFC 2119 context">MAY</em> also offer user
    interfaces, APIs, markup language features or other mechanisms
    that result in a reload, replacement or history navigation,
    behaving as described below in the algorithms section or
    otherwise. Nothing in this section should be taken to require a
    linear user interface to <a class="term" href="#dfn-session-history">session history</a>, even though
    the processing model depends on a linear list. <a class="term" href="#dfn-conforming-implementations">Conforming
    implementations</a> may use a tree or any other method of
    organizing what is presented to the user.</p>

    <div class="ednote">use newer URI RFC?</div>

    <div class="section"><h3 id="object-relationships">3.1. Object Relationships</h3>
      

      <p>In addition to the <a class="term" href="#dfn-window-object"><code>Window</code> object</a>
      itself, <a class="term" href="#dfn-navigation">navigation</a> involves a number of other
      objects. In addition to the <a class="term" href="#dfn-window-object"><code>Window</code>
      object</a> and the <a class="term" href="#dfn-document">document</a>, there are two other
      objects that participate in <a class="term" href="#dfn-navigation">navigation</a>, the
      <a class="term" href="#dfn-location-object"><code>Location</code> object</a> and the
      <a class="term" href="#dfn-history-object"><code>History</code> object</a>.</p>

      <p>These objects are, like the <a class="term" href="#dfn-window-object"><code>Window</code>
      object</a>, associated with a specific <a class="term" href="#dfn-browsing-context">browsing
      context</a>.</p>

    <div class="ednote">This would be a good place to add a diagram of object relationships - someone with art skills please help!</div>

    <div class="ednote">Should define which objects are replaced on a navigation
    and which aren't. Window is not replaced, document sometimes is as
    mentioned above. With history and location I think it may vary per
    browser. Needs research.</div>


    </div>

    <div class="section"><h3 id="navigation-algorithms">3.2. Navigation Algorithms</h3>
      

	<p>All requirements for performing alogorithms are "as if"
	requirements - all observable behavior must be as if the
	<a class="term" href="#dfn-conforming-implementation">conforming implementation</a> had performed the
	required steps, but this specification makes no requirements
	on how this effect is achieved.</p>

	<div class="section"><h4 id="uri-parsing">3.2.1. URI Parsing</h4>
	  

	<p>The following algorithms are applied when parsing absolute
	URI references into components. Absolute URI referencess are
	parsed according to Uniform Resource Identifiers (URI):
	Generic Syntax [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>], but the strings of interest when
	dealing with <a class="term" href="#dfn-browsing-context">browsing context</a>
	<a class="term" href="#dfn-navigation">navigation</a> are often somewhat different than the
	RFC standard pieces.</p>

	<dl>
	<dt><dfn id="dfn-parsehash">parseHash</dfn>(<var>URI-Ref</var>, <var>preserve-empty</var>)</dt>
	<dd>
	  <ol>
	    <li>If <var>URI-Ref</var> has a non-empty fragment
	    identifier [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>], or has an empty fragment identifier
	    and <var>preserve-empty</var> is true, return the
	    concatenation of a number sign (#) and the fragment
	    identifier; and do not proceed to step 2. Otherwise go to
	    step 2.</li>
	    <li>Return the empty string.</li>
	  </ol>
	</dd>
	
	<dt><dfn id="dfn-parsehost">parseHost</dfn>(<var>URI-Ref</var>)</dt>

	<dd>Return the result of the following steps:
	  <ol>
	    <li>If <var>URI-Ref</var> is hierarchical and uses a
	    server-based naming authority [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>], return the
	    hostport [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>] portion of the naming authority and do
	    not proceed to step 2. Otherwise go to step 2.</li>

	    <li>Return the empty string.</li>
        </ol>
	</dd>

	<dt><dfn id="dfn-parsehostname">parseHostname</dfn>(<var>URI-Ref</var>)</dt>

	<dd>Return the result of the following steps:
	  <ol>
	    <li>If <var>URI-Ref</var> is hierarchical and uses a
	    server-based naming authority [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>], return the
	    host [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>] portion of the naming authority and do
	    not proceed to step 2. Otherwise go to step 2.</li>

	    <li>Return the empty string.</li>
        </ol>
	</dd>

	<dt><dfn id="dfn-parsepathname">parsePathname</dfn>(<var>URI-Ref</var>)</dt> 
	<dd> 
	  <ol>
	    <li>If <var>URI-Ref</var> is hierarchical, return the
	    abs_path [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>] portion; and do not proceed to step
	    2. Otherwise go to step 2.</li>
	    <li>Return the empty string.</li>
          </ol>
        </dd>

	<dt><dfn id="dfn-parseport">parsePort</dfn>(<var>URI-Ref</var>)</dt>
	<dd>Return the result of the following steps:
	  <ol>
	    <li>If <var>URI-Ref</var> is hierarchical and uses a
	    server-based naming authority [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>], return the
	    port [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>] portion of the naming authority and do
	    not proceed to step 2. Otherwise go to step 2.</li>

	    <li>Return the empty string.</li>
          </ol>
	</dd>

	<dt><dfn id="dfn-parseprotocol">parseProtocol</dfn>(<var>URI-Ref</var>)</dt> 
	<dd>Return the concatenation of the <var>URI-Ref</var>'s scheme
	[<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>] and a colon (:).</dd>

	<dt><dfn id="dfn-parsesearch">parseSearch</dfn>(<var>URI-Ref</var>, <var>preserve-empty</var>)</dt> 
	<dd> 
	  <ol>
	    <li>If <var>URI-Ref</var> is hierarchical and has a
	    non-empty query [<cite><a href="#RFC2396" class="bibref">RFC2396</a></cite>], or has an empty query and
	    <var>preserve-emtpy</var> is true, return the
	    concatenation of a question mark (?) and the query; and do
	    not proceed to step 2. Otherwise go to step 2.</li>

	    <li>Return the empty string.</li>
          </ol>
        </dd>

	<dt><dfn id="dfn-reconstructuri">reconstructURI</dfn>(<var>protocol</var>, <var>host</var>, <var>pathname</var>, <var>query</var>, <var>fragment</var>)</dt> 
	<div class="ednote">Need to define this algorithm</div>
	<dd>
	</dd>

	</dl>
	</div>

	<div class="section"><h4 id="location-state">3.2.2. Browsing Context State</h4>
	  

	<p>A <a class="term" href="#dfn-conforming-implementation">conforming implementation</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> store several items
	of internal state for each <a class="term" href="#dfn-browsing-context">browsing context</a>:</p>

	<dl>
	<dt><dfn id="dfn-session-history">session-history</dfn></dt>

	<dd>A sequence of absolute URI references representing the
	<a class="term" href="#dfn-session-history">session
	history</a>. <a class="term" href="#dfn-session-history">session-history</a>[<var>n</var>] for
	an integer <var>n</var> is the <var>n</var>-th entry in the <a class="term" href="#dfn-session-history">
	session history</a></dd>

	<dt><dfn id="dfn-current-history-position">current-history-position</dfn></dt>
	<dd>An integer giving the index of the entry in the session
	history currently being presented in this <a class="term" href="#dfn-browsing-context">browsing
	context</a>, i.e. the <a class="term" href="#dfn-current-history-position">current history position</a>.</dd>

	<dt><dfn id="dfn-current-location">current-location</dfn></dt>
	<dd>The absolute URI reference given by
	<a class="term" href="#dfn-session-history">session-history</a>[<a class="term" href="#dfn-current-history-position">current-history-position</a>].</dd>

	<dt><dfn id="dfn-pending-location">pending-location</dfn></dt>
	<dd>Either a string containing an absolute URI reference or
	null. This is used as part of the algorithms that perform
	various navigations.</dd>

	<dt><dfn id="dfn-pending-navigation-type">pending-navigation-type</dfn></dt>

	<dd>The value of this internal property is one of "normal",
	"replace", "reload" or "history".</dd>

	<dt><dfn id="dfn-pending-history-position">pending-history-position</dfn></dt>
	<dd>An integer used when a history navigation is pending.</dd>

	</dl>

	</div>

	<div class="section"><h4 id="performing-navigation">3.2.3. Performing Navigations</h4>
	  

	  <p>The following algorithms are used to perform
	  navigations. Many of the surprisingly detailed definitions
	  are required for interoperability.</p>

	<p>When a <a class="term" href="#dfn-browsing-context">browsing context</a> is <em class="rfc2119" title="Keyword in RFC 2119 context">REQUIRED</em> to
	<dfn id="dfn-actuate-the-pending-navigation">actuate the pending navigation</dfn>, it <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform the
	following steps:</p>

	<ol>
	<li>If <a class="term" href="#dfn-pending-location">pending-location</a> is null, terminate this
	algorithm without performing any further steps.</li>

	<li>Start the process of navigating to the absolute URI
	reference specified by <a class="term" href="#dfn-pending-location">pending-location</a>.</li>

	<li>If <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> is "reload", then
	the load <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> result in a new document being created, even
	though this is not normally the case for loads of the same
	base location. <a class="term" href="#dfn-conforming-implementation">Conforming implementation</a>s <em class="rfc2119" title="Keyword in RFC 2119 context">MAY</em> load
	the document and referenced resources from origin, bypassing
	normal caching rules.</li>

	<li>Wait until enough of the document has loaded that the
	<a class="term" href="#dfn-browsing-context">browsing context</a> is ready to start presenting
	it.</li>

	<li>If <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> is "replace" or
	"reload", then set
	<a class="term" href="#dfn-session-history">session-history</a>[<a class="term" href="#dfn-current-history-position">current-history-position</a>]
	to <a class="term" href="#dfn-pending-location">pending-location</a>.</li>

	<li>If <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> is "history", then
	set <a class="term" href="#dfn-current-history-position">current-history-position</a> to
	<a class="term" href="#dfn-pending-history-position">pending-history-position</a>.</li>

	<li>If <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> is "normal", then
	remove all items in <a class="term" href="#dfn-session-history">session-history</a> after
	<a class="term" href="#dfn-current-history-position">current-history-position</a>, append
	<a class="term" href="#dfn-pending-location">pending-location</a>, and increase
	<a class="term" href="#dfn-current-history-position">current-history-position</a> by 1.</li>

	<li>Set <a class="term" href="#dfn-pending-location">pending-location</a> to null.</li>
	</ol>

	<p>When a <a class="term" href="#dfn-browsing-context">browsing context</a> is <em class="rfc2119" title="Keyword in RFC 2119 context">REQUIRED</em>
	to <dfn id="dfn-navigate-at-the-next-opportunity">navigate at the next opportunity</dfn> to an absolute
	URI reference <var>new-uri</var>, it <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform the following
	steps:</p>

	<ol>
	<li>Set <a class="term" href="#dfn-pending-location">pending-location</a> to <var>new-uri</var>.</li>

	<li>Set <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> to "normal".</li>

	<li>Complete execution of any currently in-progress event
	dispatch [<cite><a href="#DOM3EV" class="bibref">DOM3EV</a></cite>], timer callbacks, or execution of
	scripts from markup elements, such as the HTML, XHTML or SVG
	<code>script</code> element.</li>

	<li>Ensure that no further inline script execution takes
	place, no additional timers fire, no additional user events
	are processed for the current document until the next step is
	performed.</li>

	<li><a class="term" href="#dfn-actuate-the-pending-navigation">Actuate the pending navigation</a>.</li>
	</ol>

	<p>When a <a class="term" href="#dfn-browsing-context">browsing context</a> is <em class="rfc2119" title="Keyword in RFC 2119 context">REQUIRED</em> to
	<dfn id="dfn-replace-the-curent-location">replace the curent location</dfn> with a specified URI
	<var>new-uri</var>, it <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform the following steps:</p>

	<ol>
	<li>Set <a class="term" href="#dfn-pending-location">pending-location</a> to <var>new-uri</var>.</li>

	<li>Set <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> to "replace".</li>

	<li>Complete execution of any currently in-progress event
	dispatch [<cite><a href="#DOM3EV" class="bibref">DOM3EV</a></cite>], timer callbacks, or execution of
	scripts from markup elements, such as the HTML, XHTML or SVG
	<code>script</code> element.</li>

	<li>Ensure that no further inline script execution takes
	place, no additional timers fire, no additional user events
	are processed for the current document until the next step is
	performed.</li>

	<li><a class="term" href="#dfn-actuate-the-pending-navigation">Actuate the pending navigation</a>.</li>
	</ol>

	<p>When a <a class="term" href="#dfn-browsing-context">browsing context</a> is <em class="rfc2119" title="Keyword in RFC 2119 context">REQUIRED</em> to
	<dfn id="dfn-reload-the-curent-location">reload the curent location</dfn>, it <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform the
	following steps:</p>

	<ol>
	<li>Set <a class="term" href="#dfn-pending-location">pending-location</a> to <a class="term" href="#dfn-current-location">current-location</a>.</li>

	<li>Set <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> to "reload".</li>

	<li>Complete execution of any currently in-progress event
	dispatch [<cite><a href="#DOM3EV" class="bibref">DOM3EV</a></cite>], timer callbacks, or execution of
	scripts from markup elements, such as the HTML, XHTML or SVG
	<code>script</code> element.</li>

	<li>Ensure that no further inline script execution takes
	place, no additional timers fire, no additional user events
	are processed for the current document until the next step is
	performed.</li>

	<li><a class="term" href="#dfn-actuate-the-pending-navigation">Actuate the pending navigation</a>.</li>
	</ol>

	<p>When <a class="term" href="#dfn-browsing-context">browsing context</a>s it <em class="rfc2119" title="Keyword in RFC 2119 context">REQUIRED</em> to
	<dfn id="dfn-change-history-position">change history position</dfn> by <var>delta</var> steps,
	they <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform the following steps:</p>

	<ol>
	<li>If <var>delta</var> is 0, <a class="term" href="#dfn-reload-the-current-location">reload the current location</a> and terminate.</li>

	<li>Let <var>new-history-position</var> be <var>delta</var>
	added to <a class="term" href="#dfn-current-history-position">current-history-position</a>.</li>

	<li>If <var>new-history-position</var> is less than 0 or
	greater than or equal to the number of entries in
	<a class="term" href="#dfn-session-history">session-history</a>, then terminate.</li>

	<li>Set <a class="term" href="#dfn-pending-history-position">pending-history-position</a> to <var>new-history-position</var>.</li>

	<li>Set <a class="term" href="#dfn-pending-location">pending-location</a> to
	<a class="term" href="#dfn-session-history">session-history</a>[<var>new-history-position</var>].</li>

	<li>Set <a class="term" href="#dfn-pending-navigation-type">pending-navigation-type</a> to "history".</li>

	<li>Complete execution of any currently in-progress event
	dispatch [<cite><a href="#DOM3EV" class="bibref">DOM3EV</a></cite>], timer callbacks, or execution of
	scripts from markup elements, such as the HTML, XHTML or SVG
	<code>script</code> element.</li>

	<li>Ensure that no further inline script execution takes
	place, no additional timers fire, no additional user events
	are processed for the current document until the next step is
	performed.</li>

	<li><a class="term" href="#dfn-actuate-the-pending-navigation">Actuate the pending navigation</a>.</li>
	</ol>

	</div>

    </div>

    <div class="section"><h3 id="window-location">3.3. The <code>Window</code> Interface, Location Attributes</h3>
      

      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface Window : views::AbstractView {
    // ...

    // assigning this has special behavior in ECMAScript, but it is otherwise
    // read only. specifically, in ES a string URI can be assigned to location,
    // having the same effect as location.assign(URI)
    readonly attribute Location location;
    readonly attribute History history;

    // ...
};</pre></div>

      <div class="section"><h4 id="window-location-attributes">3.3.1. Attributes</h4>
        

        <p><a class="term" href="#dfn-window-object"><code>Window</code> object</a>s <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> have the following
         attributes:</p>

    <dl>
        <dt><dfn id="dfn-location">location</dfn></dt>
        <dd>
          The value of the <code>location</code> attribute <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
          <code>Location</code> object that represents the window's current
          location. <div class="ednote">Need to define the term "current location"
          in prose.</div>
        </dd>
    </dl>

    </div>

    </div>

    <div class="section"><h3 id="document-location">3.4. The <code>DocumentWindow</code> Interface, Location Attributes</h3>
      
      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface DocumentWindow  : views::DocumentView {
    // ...
    // same special JS assignment as window.location
    readonly attribute Location location;
    // ...
};</pre></div>

      <div class="section"><h4 id="document-location-attributes">3.4.1. Attributes</h4>
        

    <p><code>DocumentWindow</code> objects <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> implement the following
     attributes:</p>

    <dl>
        <dt><dfn id="dfn-location">location</dfn></dt>
        <dd>The value of the <code>location</code> attribute <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be a
         <code>Location</code> object that represents the
         <code>DocumentWindow</code>'s current location. The value <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
         same as the Location for all views of the document.
         <div class="ednote">Need to define the term
        "current location" in prose.</div></dd>
    </dl>

    </div>

    </div>

    <div class="section"><h3 id="location">3.5. The <code>Location</code> Interface</h3>
      

      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface Location {
    attribute dom::DOMString href;

    // pieces of the URI, per the generic URI syntax
    attribute dom::DOMString hash;
    attribute dom::DOMString host;
    attribute dom::DOMString hostname;
    attribute dom::DOMString pathname;
    attribute dom::DOMString port;
    attribute dom::DOMString protocol;
    attribute dom::DOMString search;

    void assign(in dom::DOMString uri);
    void replace(in dom::DOMString uri);
    void reload();
};</pre></div>

      <div class="section"><h4 id="location-attributes">3.5.1. Attributes</h4>
        

    <p><code>Location</code> objects <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> implement the following attributes:</p>

      <dl>
        <dt><dfn id="dfn-href"><code>href</code></dfn></dt>

        <dd>
          The value of the <a class="term" href="#dfn-href"><code>href</code></a> attribute <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
          <a class="term" href="#dfn-browsing-context">browsing context</a>'s
          <a class="term" href="#dfn-current-location">current-location</a>. When the <code>href</code>
          attribute is set to a new value, the new value <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> not be
          reflected immediately. Instead, the Location's <a class="term" href="#dfn-browsing-context">
          browsing context</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> <a class="term" href="#dfn-navigate-at-the-next-opportunity">navigate at the next
          opportunity</a> to the newly set value.
          <div class="ednote">ISSUE-67: Should resolution of relative URI
          references sent to location be defined in JS bindings or
          generally?</div>

	</dd>

        <dt><dfn id="dfn-hash"><code>hash</code></dfn></dt>
        <dd>
          The value of the <a class="term" href="#dfn-hash"><code>hash</code></a> attribute <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
          result of
          <a class="term" href="#dfn-parsehash">parseHash</a>(<a class="term" href="#dfn-current-location">current-location</a>, false).
	  When this atribute is set to a new value
          <var>new-hash</var>, user agents <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> change the value
          of the <a class="term" href="#dfn-hash"><code>hash</code></a> attribute but instead <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform
          the following steps:

	  <ol>
	  <li>If <var>new-hash</var> does not start with a number sign
	  (#), then let <var>processed-new-hash</var> be the concatenation of #
	  and <var>new-hash</var>, otherwise let <var>processed-new-hash</var>
	  be <var>new-hash</var>.</li>

	  <li>Let <var>new-uri</var> be the result of
	  <a class="term" href="#dfn-reconstructuri">reconstructURI</a>(<a class="term" href="#dfn-parsescheme">parseScheme</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsehost">parseHost</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsepathname">parsePathname</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsesearch">parseSearch</a>(<a class="term" href="#dfn-current-location">current-location</a>, true),
	  <var>processed-new-hash</var>).
	  </li>
	  
	  <li><a class="term" href="#dfn-navigate-at-the-next-opportunity">Navigate at the next opportunity</a> to
	  <var>new-uri</var>.</li> 
	  </ol>

        </dd>

        <dt><dfn id="dfn-host"><code>host</code></dfn></dt>
        <dd>
          The value of the <a class="term" href="#dfn-host"><code>host</code></a> attribute
          <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the result of
          <a class="term" href="#dfn-parsehost">parseHost</a>(<a class="term" href="#dfn-current-location">current-location</a>).

	  When this atribute is set to a new value
          <var>new-host</var>, user agents <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> change the value
          of the <a class="term" href="#dfn-host"><code>host</code></a> attribute but instead <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform
          the following steps:

	  <ol>
	  <li>Let <var>new-uri</var> be the result of
	  <a class="term" href="#dfn-reconstructuri">reconstructURI</a>(<a class="term" href="#dfn-parsescheme">parseScheme</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <var>new-host</var>,
	  <a class="term" href="#dfn-parsepathname">parsePathname</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsesearch">parseSearch</a>(<a class="term" href="#dfn-current-location">current-location</a>, true),
	  <a class="term" href="#dfn-parsehash">parseHash</a>(<a class="term" href="#dfn-current-location">current-location</a>, true)).
	  </li>
	  
	  <li><a class="term" href="#dfn-navigate-at-the-next-opportunity">Navigate at the next opportunity</a> to
	  <var>new-uri</var>.</li> 
	  </ol>

        </dd>


        <dt><dfn id="dfn-hostname"><code>hostname</code></dfn></dt>
        <dd>
          The value of the <a class="term" href="#dfn-host"><code>host</code></a> attribute
          <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the result of
          <a class="term" href="#dfn-parsehostname">parseHostname</a>(<a class="term" href="#dfn-current-location">current-location</a>).
	  <div class="ednote">Need to spec assigning this.</div>
        </dd>

        <dt><dfn id="dfn-pathname"><code>pathname</code></dfn></dt>
        <dd>
          The value of the <a class="term" href="#dfn-pathname"><code>pathname</code></a> attribute
          <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the result of
          <a class="term" href="#dfn-parsepathname">parsePathname</a>(<a class="term" href="#dfn-current-location">current-location</a>).

	  When this atribute is set to a new value
          <var>new-pathname</var>, user agents <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> change the value
          of the <a class="term" href="#dfn-pathname"><code>pathname</code></a> attribute but instead <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform
          the following steps:

	  <ol>
	  <li>Let <var>new-uri</var> be the result of
	  <a class="term" href="#dfn-reconstructuri">reconstructURI</a>(<a class="term" href="#dfn-parsescheme">parseScheme</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsehost">parseHost</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <var>new-pathname</var>,
	  <a class="term" href="#dfn-parsesearch">parseSearch</a>(<a class="term" href="#dfn-current-location">current-location</a>, true),
	  <a class="term" href="#dfn-parsehash">parseHash</a>(<a class="term" href="#dfn-current-location">current-location</a>, true)).
	  </li>
	  
	  <li><a class="term" href="#dfn-navigate-at-the-next-opportunity">Navigate at the next opportunity</a> to
	  <var>new-uri</var>.</li> 
	  </ol>

        </dd>

        <dt><dfn id="dfn-port"><code>port</code></dfn></dt>
        <dd>
          The value of the <a class="term" href="#dfn-port"><code>port</code></a> attribute
          <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the result of
          <a class="term" href="#dfn-parseport">parsePort</a>(<a class="term" href="#dfn-current-location">current-location</a>).
	  <div class="ednote">Need to spec assigning this.</div>
        </dd>

        <dt><dfn id="dfn-protocol"><code>protocol</code></dfn></dt>
        <dd>
          The value of the <a class="term" href="#dfn-protocol"><code>protocol</code></a> attribute
          <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the result of
          <a class="term" href="#dfn-parseprotocol">parseProtocol</a>(<a class="term" href="#dfn-current-location">current-location</a>).

	  When this atribute is set to a new value
          <var>new-protocol</var>, user agents <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> change the value
          of the <a class="term" href="#dfn-protocol"><code>protocol</code></a> attribute but instead <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform
          the following steps:

	  <ol>
	  <li>If <var>new-protocol</var> does not end with a colon
	  (:), then let <var>processed-new-protocol</var> be the
	  concatenation of <var>new-protocol</var> and a colon (:),
	  otherwise let <var>processed-new-protocol</var> be
	  <var>new-protocol</var>.</li>

	  <li>Let <var>new-uri</var> be the result of
	  <a class="term" href="#dfn-reconstructuri">reconstructURI</a>(<var>processed-new-protocol</var>,
	  <a class="term" href="#dfn-parsehost">parseHost</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsepathname">parsePathname</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	    <a class="term" href="#dfn-parsesearch">parseSearch</a>(<a class="term" href="#dfn-current-location">current-location</a>, true),
	  <a class="term" href="#dfn-parsehash">parseHash</a>(<a class="term" href="#dfn-current-location">current-location</a>, true)).
	  </li>
	  
	  <li><a class="term" href="#dfn-navigate-at-the-next-opportunity">Navigate at the next opportunity</a> to
	  <var>new-uri</var>.</li> 
	  </ol>

        </dd>

        <dt><dfn id="dfn-search"><code>search</code></dfn></dt>
        <dd>
          The value of the <a class="term" href="#dfn-search"><code>search</code></a> attribute
          <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the result of
          <a class="term" href="#dfn-parsesearch">parseSearch</a>(<a class="term" href="#dfn-current-location">current-location</a>).

	  When this atribute is set to a new value
          <var>new-search</var>, user agents <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> change the value
          of the <a class="term" href="#dfn-search"><code>search</code></a> attribute but instead <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> perform
          the following steps:

	  <ol>
	  <li>If <var>new-search</var> does not start with a question mark
	  (?), then let <var>processed-new-search</var> be the concatenation of ?
	  and <var>new-search</var>, otherwise let <var>processed-new-search</var>
	  be <var>new-search</var>.</li>

	  <li>Let <var>new-uri</var> be the result of
	  <a class="term" href="#dfn-reconstructuri">reconstructURI</a>(<a class="term" href="#dfn-parsescheme">parseScheme</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsehost">parseHost</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <a class="term" href="#dfn-parsepathname">parsePathname</a>(<a class="term" href="#dfn-current-location">current-location</a>),
	  <var>processed-new-search</var>,
	  <a class="term" href="#dfn-parsehash">parseHash</a>(<a class="term" href="#dfn-current-location">current-location</a>, true)).
	  </li>
	  
	  <li><a class="term" href="#dfn-navigate-at-the-next-opportunity">Navigate at the next opportunity</a> to
	  <var>new-uri</var>.</li> 
	  </ol>

       </dd>
     </dl>

     </div>

      <div class="section"><h4 id="location-methods">3.5.2. Methods</h4>
        

    <p><code>Location</code> objects <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> implement the following methods:</p>

      <dl>

	<div class="ednote">ISSUE-68: Should describe string conversion for
	various language bindings.</div>

        <dt><dfn id="dfn-assign"><code>assign</code></dfn>(<var>uri</var>)</dt>

        <dd>When <a class="term" href="#dfn-assign"><code>assign</code></a> is called, the
        <a class="term" href="#dfn-location-object"><code>Location</code> object</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em>
        <a class="term" href="#dfn-navigate-at-the-next-opportunity">navigate at the next opportunity</a> to
        <var>uri</var>.</dd>

        <dt><dfn id="dfn-replace"><code>replace</code></dfn>(<var>uri</var>)</dt>

        <dd>When <a class="term" href="#dfn-replace"><code>replace</code></a> is called, the
        <a class="term" href="#dfn-location-object"><code>Location</code> object</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> <a class="term" href="#dfn-replace-the-curent-location">replace the
        curent location</a> with <var>uri</var>.</dd>

        <dt><dfn id="dfn-reload"><code>reload</code></dfn>()</dt>
        <dd>When <a class="term" href="#dfn-assign"><code>assign</code></a> is called, the
        <a class="term" href="#dfn-location-object"><code>Location</code> object</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> <a class="term" href="#dfn-reload-the-curent-location">reload the
        curent location</a>.</dd>

     </dl>
     </div>

    </div>

    <div class="section"><h3 id="history">3.6. The <code>History</code> Interface</h3>
      

      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface History {
  readonly attribute long length;
  void go(in long delta);
  void back();
  void forward();
};</pre></div>

      <div class="section"><h4 id="history-attributes">3.6.1. Attributes</h4>
        

    <p><code>History</code> objects <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> implement the following attributes:</p>

      <dl>
        <dt><dfn id="dfn-length"><code>length</code></dfn></dt>
        <dd>The value of the <a class="term" href="#dfn-length"><code>length</code></a>
        attribute <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the number of items in the <a class="term" href="#dfn-browsing-context">browsing
        context</a>'s <a class="term" href="#dfn-session-history">session history</a>.</dd>
      </dl>
      </div>

      <div class="section"><h4 id="history-methods">3.6.2. Methods</h4>
        
       <p><code>History</code> objects <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> implement the following methods:</p>

      <dl>

        <dt><dfn id="dfn-go"><code>go</code></dfn>(<var>delta</var>)</dt>
        <dd>When <a class="term" href="#dfn-go"><code>go</code></a> is called, the
        <a class="term" href="#dfn-browsing-context">browsing context</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em>
        <a class="term" href="#dfn-change-history-position">change history position</a> by
        <var>delta</var> steps.<div class="ednote">In ECMAScript, can also be called with no args.</div></dd>

        <dt><dfn id="dfn-back"><code>back</code></dfn>()</dt>
        <dd>When <a class="term" href="#dfn-back"><code>back</code></a> is called, the
        <a class="term" href="#dfn-browsing-context">browsing context</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> <a class="term" href="#dfn-change-history-position">change history
        position</a> by -1 steps.</dd>

        <dt><dfn id="dfn-back"><code>back</code></dfn>()</dt>
        <dd>When <a class="term" href="#dfn-forward"><code>forward</code></a> is called, the
        <a class="term" href="#dfn-browsing-context">browsing context</a> <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> <a class="term" href="#dfn-change-history-position">change history
        position</a> by +1 steps.</dd>
	</dl>
      </div>

    </div>

  </div>

  <div class="section"><h2 id="embedding">4. Embedding: Compound Documents by Reference</h2>
    
    <p>An element that refers to another document which is then embedded is
     called an <dfn id="dfn-embedding-element">embedding element</dfn>. A
     document embedded in such an element is called a
     <dfn id="dfn-child-document">child document</dfn>. Seen from a child
     document, the embedding element is part of a
     <dfn id="dfn-parent-document">parent document</dfn>. When a document
     has no embedding element that points to it the document is a
     <dfn id="dfn-root-document">root document</dfn>. A document can be both
     a parent document and child document at the same time.</p>

    <div class="ednote">The normative definitions of the various attributes should
    be moved to below the IDL to match other sections.</div>

    <p>The value of the <code>frameElement</code> attribute of a
     <code>Window</code> object <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
     <a class="term" href="#dfn-embedding-element">embedding element</a>, or
     <code>null</code> if there is no such element. The value of the
     <code>parent</code> attribute of a <code>Window</code> object <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
     <a class="term" href="#dfn-parent-document">parent document</a>'s
     <code>Window</code> object or the document's <code>Window</code> object if
     there is no parent document. The value of the <code>top</code> attribute of
     a <code>Window</code> object <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
     <a class="term" href="#dfn-root-document">root document</a>'s <code>Window</code>
     object.

     <div class="ednote">For the ES bindings appendix: In ECMAScript these DOM
      attributes, even though readonly, to be set to different values. In such
      cases the attributes are simply the values set by the script
      author.</div>

     <div class="ednote">This does not deal with security. Security should probably be
      taken care of in a separate part of the specification. That there is no
      restriction by design, but by security environment.</div>
    </p>
    <p>The <code>name</code> attribute of a <code>Window</code> object <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be
     the name assigned by the <a class="term" href="#dfn-embedding-element">embedding
     element</a>, the empty string if there is no such element or a value set
     by the script author. How this name is extracted from the embedding
     element is language specific.

     <div class="ednote">Need to mention that it can be set by Window.open() and the
      "target" attribute in some languages, basically anything that can open
      a new top-level <a class="term" href="#dfn-browsing-context">browsing context</a>.</div>
    </p>
    <p>For example, if you have
     <code>&lt;object data="<var>file</var>" id="test"/&gt;</code> in an XHTML
     document the <code>name</code> DOM attribute within <var>file</var> will be
     "test".</p>
    <p>The value of the <code>contentDocument</code> attribute of an object that
     implements the <code>EmbeddingElement</code> interface <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the
     <a class="term" href="#dfn-child-document">child document</a>'s
     <code>Document</code> object or <code>null</code> if there is no such
     object.

     <div class="ednote">Need to discuss the possibility of embedding elements containing
      non-DOM content, like images or plugin content.</div>

     Likewise the <code>contentWindow</code> attribute of an object that
     implements the <code>EmbeddingElement</code> interface <em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be the child
     document's <code>Window</code> object or <code>null</code> if there is no
     such object. 
    </p>

    <div class="section"><h3 id="window-embedding">4.1. The <code>Window</code> Interface, Embedding Attributes</h3>
      

      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface Window {
    // name attribute of referencing frame/iframe/object, or name passed to
    // window.open
    attribute dom::DOMString name;

    // global object of containing document
    readonly attribute Window parent;

    // global object of outermost containing document
    readonly attribute Window top;

    // referencing &lt;html:frame&gt;, &lt;html:iframe&gt;, &lt;html:object&gt;, &lt;svg:foreignObject&gt;,
    // &lt;svg:animation&gt; or other embedding point, or null if none
    readonly attribute dom::Element frameElement;
};</pre></div>

      <div class="ednote">This needs fixing to clearly state the conformance requirements.</div>
      <div class="ednote">This also needs to be merged with the above I think [anne].</div>

      <dl>
        <dt><dfn id="dfn-parent">parent</dfn></dt>
        <dd>An attribute containing a reference to <code>Window</code> object
         that contains this object.</dd>

        <dt><dfn id="dfn-top">top</dfn></dt>
        <dd>An attribute containing a reference to the topmost Window object in
         the hierarchy that contains this object.</dd>

        <dt><dfn id="dfn-name">name</dfn></dt>
        <dd>An attribute containing a unique name used to refer to this Window object.
	<div class="ednote">Need to describe how this could come from a containing element.</div>
	</dd>

        <dt><dfn id="dfn-frameelement">frameElement</dfn></dt>
        <dd><div class="ednote">@@TODO</div></dd>
      </dl>


    </div>

    <div class="section"><h3 id="embeddingelt">4.2. The <code>EmbeddingElement</code> Interface</h3>
      
      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

// must be on an object that also implements dom::Element
interface EmbeddingElement {
    readonly attribute dom::Document contentDocument;
    readonly attribute Window contentWindow;
};</pre></div>

    </div>

    <div class="ednote">Need actual description.</div>

  </div>

  <div class="section"><h2 id="timers">5. Timers</h2>
    

    <div class="ednote">Need to describe processing model for timers.</div>

    <div class="section"><h3 id="window-timers">5.1. The <code>Window</code> Interface, Timer Attributes</h3>
      

      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

interface Window {
    // should timers allow more than long, maybe a floating point type?
    // don't think anyone's timers have more precision

    // one-shot timer
    long setTimeout(in TimerListener listener, in long milliseconds);
    void clearTimeout(in long timerID);

    // repeating timer
    long setInterval(in TimerListener listener, in long milliseconds);
    void clearInterval(in long timerID);
};</pre></div>

<dl>
        <dt><dfn id="dfn-settimeoutfunction,-milliseconds">setTimeout(<var>function</var>, <var>milliseconds</var>)</dfn></dt>
        <dd>This method calls the function once after a specified number of milliseconds elapses, until canceled by a call to clearTimeout. The methods returns a timerID which may be used in a subsequent call to clearTimeout to cancel the interval.</dd>

        <dt><dfn id="dfn-setintervalfunction,-milliseconds">setInterval(<var>function</var>, <var>milliseconds</var>)</dfn></dt>
        <dd>This method calls the function every time a specified number of milliseconds elapses, until canceled by a call to clearInterval. The methods returns an intervalID which may be used in a subsequent call to clearInterval to cancel the interval.</dd>

        <dt><dfn id="dfn-cleartimeouttimerid">clearTimeout(<var>timerID</var>)</dfn></dt>
        <dd>Cancels a timeout that was set with the setTimeout method.</dd>

        <dt><dfn id="dfn-clearintervalintervalid">clearInterval(<var>intervalID</var>)</dfn></dt>
        <dd>Cancels an interval that was set with the setTimeout method.</dd>
    </dl>

    </div>

    <div class="section"><h3 id="timerlistener">5.2. The <em>TimerListener</em> Interface</h3>
      
      <div class="boxed"><p><span class="idlTitle"></span></p><pre class="schema" title="">

// behavior is always special in ECMAScript, this is defined only for the benefit
// of other languages
interface TimerListener {
    // what to put here?
};</pre></div>

    <div class="ednote">ISSUE-70: what to do about timers?</div>

    <div class="ednote">Need to define this. In ES bindings, a function or string is the only thing allowed.</div>

    </div>

  </div>

  <div class="section"><h2 id="security">6. Security Considerations</h2>
    

    <div class="ednote"><p>My current plan for the "security considerations" section is that it will contain the following:</p>

<ul>
<li>Non-normative statements of fact about various security vulnerabilities that may affect Window implementations (unauthorized data access, phishing/pharming, frame injection, etc).</li>

<li>A normative requirement that UAs implement some security policy that is in line with some general principles of cross-site scripting security, with exemptions allowed for "trusted" content. Some rough cuts at it (this language is not nearly precise as it should be, just trying to get the rules across):
<ul>
    <li> "A script executing in a browsing context currently presenting a document from one origin <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> be allowed to access remote content from a different origin in such a way that the script can then access the contents." (where "same origin" is defined as same URI scheme, host and port, modulo differences for document.domain which I guess needs to be in the spec).</li>
    <li> "A non-trusted document <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> be allowed to navigate a browsing context unless one of the following holds: the browsing contexts have the same top-level browsing context; the target browsing context has the same origin as the source browsing context; one of the ancestor browsing contexts of the target browsing context has the same origin as the source; OR the target browsing context is a top-level browsing context and the user can see the context's current location."</li>
    <li> "A non-trusted document <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> be allowed to access or navigate to content from a file: URI in any way."</li>
</ul></li>

<li>Specific cases where access and navigation must be allowed, notwithstanding any additional security restrictions (anything from the same origin).</li>

<li>Normative restrictions on what may be considered "trusted" content (<em class="rfc2119" title="Keyword in RFC 2119 context">MUST</em> be from a specific known location, <em class="rfc2119" title="Keyword in RFC 2119 context">MUST NOT</em> be transmitted over a network via an insecure protocol -- so you can't just say "my UA considers all content to be trusted" or "my company's homepage sent over non-SSL http is trusted".)</li>

<li>An example of a specific security model that is believed to satisfy these constraints.</li>
</ul>

<p>I would rather not have normative requirements on when UAs must or must not throw exceptions or return null or whatever, since these would merely represent our best current understanding of how to implement the security policy.</p>

<p>It may be that some of this belongs in the main body of the spec instead of in Security Considerations, let's figure that out when the security part is actually written.</p>

</div>

  </div>

  <div class="section"><h2 id="idl">A. IDL Definitions</h2>
    

    <div class="ednote">Need to fill in the full IDL here.</div>
  </div>


  <div class="section"><h2 id="ecmascript-binding">B. ECMAScript Language Binding</h2>
    

    <div class="ednote">Need to define all the ECMAScript-specific issues, such as which properties
    are shadowable or replaceable, assigning to the location property, passing functions or
    strings as timers, etc.</div>
  </div>

  <div class="section"><h2 id="java-binding">C. Java Language Binding</h2>
    

    <div class="ednote">Need to write this.</div>
  </div>

  <div class="section"><h2 id="acknow">D. Acknowledgements</h2>
    

    <p>
      The WebAPI <acronym title="Working Group">WG</acronym> would like to thanks the following people for contributing to this specification:
    </p>

    <p>
      Björn Höhrmann, Jim Ley, Cameron McCormack and Boris Zbarsky.
    </p>

    <p>
      Special thanks to Anne van Kesteren for writing the Embedding
      section and many other additions and improvenets.
    </p>

    <p>
      Special thanks to Ian Hickson for making the first attempt to
      standardize the Window object in Web Apps 1.0, drafts of which
      heavily influenced this document. In particular, he coined the
      term "browsing context".
    </p>

  </div>

  <div class="section"><h2 id="bibref">E. References</h2>
    

    <div class="ednote">Need to be able to include organization and date for references.</div>

    <div class="ednote">Need appropriate cites for DOM Core and OMG IDL.</div>

    <div class="ednote">Need titles and authors for DOM2Views</div>
    <div class="ednote">Need titles and authors for DOM3Core</div>
    <div class="ednote">Need titles and authors for ECMAScript</div>
    <div class="ednote">Need titles and authors for Java</div>

    <dl class="bibliography">
      
      
      
      
      
    <dt id="DOM2Views">DOM2Views</dt><dd><cite><a href=""></a></cite>,
    </dd><dt id="DOM3Core">DOM3Core</dt><dd><cite><a href=""></a></cite>,
    </dd><dt id="DOM3EV">DOM3EV</dt><dd><cite><a href="http://www.w3.org/TR/DOM-Level-3-Events/">Document Object Model (DOM) Level 3 Events Specification</a></cite>,
    <span class="person">Philippe Le Hégaret (W3C)</span>, and <span class="person">Tom Pixley (Netscape Communications Corporation)</span>.</dd><dt id="ECMAScript">ECMAScript</dt><dd><cite><a href=""></a></cite>,
    </dd><dt id="Java">Java</dt><dd><cite><a href=""></a></cite>,
    </dd><dt id="RFC2119">RFC2119</dt><dd><cite><a href="http://www.ietf.org/rfc/rfc2119.txt">Key words for use in RFCs to Indicate Requirement Levels</a></cite>,
    <span class="person">S. Bradner</span>.</dd><dt id="RFC2396">RFC2396</dt><dd><cite><a href="http://www.ietf.org/rfc/rfc2396.txt">Uniform Resource Identifiers (URI): Generic Syntax</a></cite>,
    <span class="person">T. Berners-Lee</span>, <span class="person">R. Fielding</span>, and <span class="person">L. Masinter</span>.</dd></dl>
  </div>
</body></html>
